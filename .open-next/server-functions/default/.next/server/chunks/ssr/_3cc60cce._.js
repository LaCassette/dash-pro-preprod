module.exports=[596221,a=>{"use strict";var b=a.i(404650);a.s(["Loader2",()=>b.default])},724669,a=>{"use strict";let b=(0,a.i(170106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],724669)},290669,a=>{"use strict";let b=(0,a.i(170106).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],290669)},920731,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(278165),e=a.i(856696),f=a.i(413902),g=a.i(415925),h=a.i(703130),i=a.i(254161),j=a.i(514727),k=a.i(835181),l=a.i(564485),m=a.i(563588),n=a.i(660246),o=a.i(267900),p=a.i(182434),q=a.i(724669),r=a.i(290669),s=a.i(596221);function t(){let{user:a}=(0,d.useUser)(),{activeOrganization:t,getAccentColor:u}=(0,e.useOrganization)(),{theme:v}=(0,f.useTheme)(),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!0),A=(0,g.useTranslations)("dashboard"),B=(0,g.useTranslations)("roles"),C=u("dark"===v);async function D(){try{let a=t?`/api/dashboard/stats?organizationId=${t.id}`:"/api/dashboard/stats",b=await fetch(a);if(!b.ok)throw Error("Failed to fetch stats");let c=await b.json();x(c)}catch(a){console.error("Error fetching stats:",a)}finally{z(!1)}}return((0,c.useEffect)(()=>{a&&(z(!0),D())},[a,t]),a)?y?(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin"})})}):(0,b.jsxs)("div",{className:"container mx-auto p-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,b.jsx)(j.SidebarTrigger,{})}),(0,b.jsxs)("div",{className:"mb-6","data-tour":"dashboard-header",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:A("title")}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[A("welcomeMessage",{name:a.name||a.email}),t&&(0,b.jsxs)("span",{className:"ml-2",children:["• ",t.name]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4","data-tour":"dashboard-stats",children:[(0,b.jsxs)(h.Card,{className:"md:col-span-2 lg:col-span-1",children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("role")})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)(i.Badge,{variant:"outline",className:"text-lg px-3 py-1",style:C?{borderColor:C,color:C}:void 0,children:B(a.role.toLowerCase())})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("sportPrograms")}),(0,b.jsx)(k.Dumbbell,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.programs.sport||0}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[w?.programs.recent||0," ",A("createdThisWeek")]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("nutritionPrograms")}),(0,b.jsx)(l.Apple,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.programs.nutrition||0}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[w?.programs.recent||0," ",A("createdThisWeek")]})]})]}),(0,b.jsxs)(h.Card,{className:"md:col-span-2",children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("totalPrograms")}),(0,b.jsx)(r.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold",style:C?{color:C}:void 0,children:w?.programs.total||0}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)(q.TrendingUp,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w?.programs.recent||0," ",A("newThisWeek")]})]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("conversations")}),(0,b.jsx)(m.MessageSquare,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.chats.total||0}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[w?.chats.messages.total||0," ",A("totalMessages")]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:A("recentMessages")}),(0,b.jsx)(q.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.chats.messages.recent||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:A("thisWeek")})]})]}),"PRO"===a.role&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Clients"}),(0,b.jsx)(n.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.clients||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Clients actifs"})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Organisations"}),(0,b.jsx)(o.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.organizations||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"PRO"===a.role?"Organisations gérées":"Organisations membres"})]})]}),"PRO"===a.role&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Assistants"}),(0,b.jsx)(p.Bot,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",style:C?{color:C}:void 0,children:w?.assistants||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Assistants configurés"})]})]})]})]}):null}a.s(["default",()=>t])}];

//# sourceMappingURL=_3cc60cce._.js.map