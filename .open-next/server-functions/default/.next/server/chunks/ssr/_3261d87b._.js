module.exports=[596221,a=>{"use strict";var b=a.i(404650);a.s(["Loader2",()=>b.default])},50429,a=>{"use strict";let b=(0,a.i(170106).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},824569,a=>{"use strict";let b=(0,a.i(170106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],824569)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},971824,a=>{"use strict";let b=(0,a.i(170106).default)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);a.s(["Repeat",()=>b],971824)},784581,a=>{"use strict";let b=(0,a.i(170106).default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);a.s(["GripVertical",()=>b],784581)},943660,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(278165),f=a.i(703130),g=a.i(340695),h=a.i(254161),i=a.i(400210),j=a.i(835181),k=a.i(564485),l=a.i(596221),m=a.i(824569),n=a.i(784581),o=a.i(641710),p=a.i(50429),q=a.i(971824),r=a.i(762180),s=a.i(558348),t=a.i(277687),u=a.i(514727);let v={CHEST:"Pectoraux",BACK:"Dos",SHOULDERS:"Ã‰paules",BICEPS:"Biceps",TRICEPS:"Triceps",FOREARMS:"Avant-bras",ABS:"Abdos",OBLIQUES:"Obliques",QUADRICEPS:"Quadriceps",HAMSTRINGS:"Ischio-jambiers",GLUTES:"Fessiers",CALVES:"Mollets",LOWER_BACK:"Lombaires",TRAPS:"TrapÃ¨zes",FULL_BODY:"Full Body",CARDIO:"Cardio",STRETCHING:"Ã‰tirements"},w={CHEST:"bg-red-500",BACK:"bg-blue-500",SHOULDERS:"bg-orange-500",BICEPS:"bg-purple-500",TRICEPS:"bg-pink-500",FOREARMS:"bg-amber-500",ABS:"bg-green-500",OBLIQUES:"bg-lime-500",QUADRICEPS:"bg-cyan-500",HAMSTRINGS:"bg-teal-500",GLUTES:"bg-rose-500",CALVES:"bg-sky-500",LOWER_BACK:"bg-indigo-500",TRAPS:"bg-violet-500",FULL_BODY:"bg-gray-500",CARDIO:"bg-red-400",STRETCHING:"bg-emerald-500"};function x(){let a=(0,d.useParams)(),x=(0,d.useRouter)(),{user:y}=(0,e.useUser)(),{toast:z}=(0,t.useToast)(),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!0);async function E(a){D(!0);try{let b=await fetch(`/api/programs/${a}`);if(!b.ok){if(404===b.status){z({title:"Erreur",description:"Programme non trouvÃ©",variant:"destructive"}),x.push("/dashboard");return}throw Error("Failed to fetch program")}let c=await b.json();B(c)}catch(a){console.error("Error fetching program:",a),z({title:"Erreur",description:"Impossible de charger le programme",variant:"destructive"}),x.push("/dashboard")}finally{D(!1)}}(0,c.useEffect)(()=>{a.id&&E(a.id)},[a.id]);let F=(0,c.useMemo)(()=>{if(!A)return null;try{let a=JSON.parse(A.content);if(a.exercises&&Array.isArray(a.exercises))return{type:"exercises",exercises:a.exercises};return{type:"json",data:a}}catch{return{type:"markdown"}}},[A?.content]),G=(0,c.useMemo)(()=>{if(F?.type!=="exercises")return null;let a={};return F.exercises.forEach(b=>{let c=b.muscleGroup||"OTHER";a[c]||(a[c]=[]),a[c].push(b)}),a},[F]);if(C)return(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin"})})});if(!A)return null;let H="SPORT"===A.type,I=y?.id===A.createdBy.id,J=({exercise:a,index:c})=>{let d=w[a.muscleGroup]||"bg-gray-500";return(0,b.jsxs)("div",{className:"group flex items-start gap-4 p-4 rounded-lg border bg-card hover:border-primary/30 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:c+1}),(0,b.jsx)(n.GripVertical,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100"})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("h4",{className:"font-semibold text-lg",children:a.name}),(0,b.jsx)(h.Badge,{className:`${d} text-white text-xs`,children:v[a.muscleGroup]||a.muscleGroup})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,b.jsx)(q.Repeat,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:a.series})," sÃ©ries Ã— ",(0,b.jsx)("strong",{children:a.reps})," reps"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,b.jsx)(o.Clock,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:["Repos: ",(0,b.jsx)("strong",{children:a.rest})]})]})]}),a.notes&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground italic",children:["ðŸ“ ",a.notes]})]})]})};return(0,b.jsx)("div",{className:"w-full min-w-0 p-6",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto w-full min-w-0",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(u.SidebarTrigger,{}),(0,b.jsxs)(g.Button,{variant:"ghost",onClick:()=>x.back(),children:[(0,b.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Retour"]})]}),(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[H?(0,b.jsx)(j.Dumbbell,{className:"h-6 w-6"}):(0,b.jsx)(k.Apple,{className:"h-6 w-6"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:A.name})]}),A.description&&(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:A.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)(h.Badge,{variant:H?"default":"secondary",children:H?"Sportif":"Nutritionnel"}),A.user&&(0,b.jsxs)(h.Badge,{variant:"outline",children:["Pour: ",A.user.name||A.user.email]}),A.organization&&(0,b.jsx)(h.Badge,{variant:"outline",children:A.organization.name})]})]}),I&&(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)(g.Button,{variant:"outline",onClick:()=>x.push(`/dashboard/programs/${A.id}/edit`),children:[(0,b.jsx)(m.Edit,{className:"mr-2 h-4 w-4"}),"Modifier"]})})]})]}),(0,b.jsxs)(f.Card,{className:"w-full",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.CardTitle,{children:F?.type==="exercises"?"Programme d'entraÃ®nement":"Contenu du programme"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["CrÃ©Ã© le ",new Date(A.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),A.updatedAt!==A.createdAt&&(0,b.jsxs)("span",{className:"ml-2",children:["(Mis Ã  jour le ",new Date(A.updatedAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),")"]})]})]}),A.createdBy&&(0,b.jsxs)(f.CardDescription,{children:["CrÃ©Ã© par: ",A.createdBy.name||A.createdBy.email]})]}),(0,b.jsx)(f.CardContent,{className:"w-full p-6 min-w-0",children:(()=>{if(!F)return null;if("exercises"===F.type){let a=F.exercises.length,c=F.exercises.reduce((a,b)=>a+(b.series||0),0),d=[...new Set(F.exercises.map(a=>a.muscleGroup))];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 rounded-lg bg-muted/30",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:a}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Exercices"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:c}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"SÃ©ries totales"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:d.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Groupes musculaires"})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(a=>(0,b.jsxs)(h.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,b.jsx)(p.Target,{className:"h-3 w-3"}),v[a]||a]},a))}),G&&Object.entries(G).map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h3",{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${w[a]||"bg-gray-500"}`}),v[a]||a,(0,b.jsx)(h.Badge,{variant:"secondary",className:"text-xs",children:c.length})]}),(0,b.jsx)("div",{className:"space-y-2 pl-5",children:c.sort((a,b)=>a.order-b.order).map((a,c)=>(0,b.jsx)(J,{exercise:a,index:c},`${a.exerciseId||a.name}-${c}`))})]},a))]})}return(0,b.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert w-full min-w-0",children:(0,b.jsx)(r.default,{remarkPlugins:[s.default],components:{h1:({node:a,...c})=>(0,b.jsx)("h1",{className:"text-2xl font-bold mt-6 mb-4",...c}),h2:({node:a,...c})=>(0,b.jsx)("h2",{className:"text-xl font-semibold mt-5 mb-3",...c}),h3:({node:a,...c})=>(0,b.jsx)("h3",{className:"text-lg font-semibold mt-4 mb-2",...c}),p:({node:a,...c})=>(0,b.jsx)("p",{className:"mb-4 leading-relaxed",...c}),ul:({node:a,...c})=>(0,b.jsx)("ul",{className:"list-disc list-inside mb-4 space-y-2",...c}),ol:({node:a,...c})=>(0,b.jsx)("ol",{className:"list-decimal list-inside mb-4 space-y-2",...c}),li:({node:a,...c})=>(0,b.jsx)("li",{className:"ml-4",...c}),strong:({node:a,...c})=>(0,b.jsx)("strong",{className:"font-semibold",...c}),code:({node:a,inline:c,...d})=>c?(0,b.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm font-mono",...d}):(0,b.jsx)("code",{className:"block bg-muted p-4 rounded-lg text-sm font-mono overflow-x-auto mb-4",...d}),blockquote:({node:a,...c})=>(0,b.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 italic my-4",...c}),table:({node:a,children:c,...d})=>(0,b.jsx)("div",{className:"my-6 w-full overflow-x-auto",style:{WebkitOverflowScrolling:"touch",overflowX:"auto",display:"block",width:"100%"},children:(0,b.jsx)("table",{className:"border-collapse text-sm border rounded-lg bg-card",style:{width:"max-content",display:"table",margin:0},...d,children:c})}),thead:({node:a,...c})=>(0,b.jsx)("thead",{className:"bg-muted/50",...c}),tbody:({node:a,...c})=>(0,b.jsx)("tbody",{className:"divide-y divide-border",...c}),tr:({node:a,...c})=>(0,b.jsx)("tr",{className:"border-b border-border hover:bg-muted/30 transition-colors",...c}),th:({node:a,...c})=>(0,b.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-foreground whitespace-nowrap border-b border-border",style:{whiteSpace:"nowrap"},...c}),td:({node:a,...c})=>(0,b.jsx)("td",{className:"px-4 py-2.5 text-foreground border-b border-border/50",style:{whiteSpace:"nowrap"},...c})},children:A.content})})})()})]})]})})}a.s(["default",()=>x])}];

//# sourceMappingURL=_3261d87b._.js.map