(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531278,e=>{"use strict";var s=e.i(717521);e.s(["Loader2",()=>s.default])},25652,e=>{"use strict";let s=(0,e.i(475254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},21218,e=>{"use strict";let s=(0,e.i(475254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},178928,e=>{"use strict";var s=e.i(843476),t=e.i(271645),r=e.i(145645),a=e.i(987756),d=e.i(363178),l=e.i(948148),i=e.i(970065),n=e.i(994179),o=e.i(811522),c=e.i(512475),x=e.i(466141),m=e.i(686311),u=e.i(761911),h=e.i(607486),f=e.i(531245),j=e.i(25652),g=e.i(21218),N=e.i(531278);function p(){let{user:e}=(0,r.useUser)(),{activeOrganization:p,getAccentColor:C}=(0,a.useOrganization)(),{theme:b}=(0,d.useTheme)(),[v,w]=(0,t.useState)(null),[y,T]=(0,t.useState)(!0),H=(0,l.useTranslations)("dashboard"),k=(0,l.useTranslations)("roles"),O=C("dark"===b);async function A(){try{let e=p?`/api/dashboard/stats?organizationId=${p.id}`:"/api/dashboard/stats",s=await fetch(e);if(!s.ok)throw Error("Failed to fetch stats");let t=await s.json();w(t)}catch(e){console.error("Error fetching stats:",e)}finally{T(!1)}}return((0,t.useEffect)(()=>{e&&(T(!0),A())},[e,p]),e)?y?(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)(N.Loader2,{className:"h-8 w-8 animate-spin"})})}):(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,s.jsx)(o.SidebarTrigger,{})}),(0,s.jsxs)("div",{className:"mb-6","data-tour":"dashboard-header",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:H("title")}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:[H("welcomeMessage",{name:e.name||e.email}),p&&(0,s.jsxs)("span",{className:"ml-2",children:["• ",p.name]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4","data-tour":"dashboard-stats",children:[(0,s.jsxs)(i.Card,{className:"md:col-span-2 lg:col-span-1",children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("role")})}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)(n.Badge,{variant:"outline",className:"text-lg px-3 py-1",style:O?{borderColor:O,color:O}:void 0,children:k(e.role.toLowerCase())})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("sportPrograms")}),(0,s.jsx)(c.Dumbbell,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.programs.sport||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v?.programs.recent||0," ",H("createdThisWeek")]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("nutritionPrograms")}),(0,s.jsx)(x.Apple,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.programs.nutrition||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v?.programs.recent||0," ",H("createdThisWeek")]})]})]}),(0,s.jsxs)(i.Card,{className:"md:col-span-2",children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("totalPrograms")}),(0,s.jsx)(g.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-4xl font-bold",style:O?{color:O}:void 0,children:v?.programs.total||0}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(j.TrendingUp,{className:"h-3 w-3 text-muted-foreground"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[v?.programs.recent||0," ",H("newThisWeek")]})]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("conversations")}),(0,s.jsx)(m.MessageSquare,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.chats.total||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v?.chats.messages.total||0," ",H("totalMessages")]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:H("recentMessages")}),(0,s.jsx)(j.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.chats.messages.recent||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:H("thisWeek")})]})]}),"PRO"===e.role&&(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Clients"}),(0,s.jsx)(u.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.clients||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Clients actifs"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Organisations"}),(0,s.jsx)(h.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.organizations||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"PRO"===e.role?"Organisations gérées":"Organisations membres"})]})]}),"PRO"===e.role&&(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Assistants"}),(0,s.jsx)(f.Bot,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold",style:O?{color:O}:void 0,children:v?.assistants||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Assistants configurés"})]})]})]})]}):null}e.s(["default",()=>p])}]);