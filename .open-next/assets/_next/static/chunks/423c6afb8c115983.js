(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,727612,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],727612)},330009,e=>{"use strict";let t;var r=e.i(843476),n=e.i(271645),a=e.i(30030),o=e.i(820783),i=e.i(326999),s=e.i(981140),l=Symbol("radix.slottable"),d="AlertDialog",[u,c]=(0,a.createContextScope)(d,[i.createDialogScope]),f=(0,i.createDialogScope)(),m=e=>{let{__scopeAlertDialog:t,...n}=e,a=f(t);return(0,r.jsx)(i.Root,{...a,...n,modal:!0})};m.displayName=d;var h=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,o=f(n);return(0,r.jsx)(i.Trigger,{...o,...a,ref:t})});h.displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:t,...n}=e,a=f(t);return(0,r.jsx)(i.Portal,{...a,...n})};p.displayName="AlertDialogPortal";var g=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,o=f(n);return(0,r.jsx)(i.Overlay,{...o,...a,ref:t})});g.displayName="AlertDialogOverlay";var v="AlertDialogContent",[x,w]=u(v),b=((t=({children:e})=>(0,r.jsx)(r.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",t.__radixId=l,t),y=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:l,...d}=e,u=f(a),c=n.useRef(null),m=(0,o.useComposedRefs)(t,c),h=n.useRef(null);return(0,r.jsx)(i.WarningProvider,{contentName:v,titleName:j,docsSlug:"alert-dialog",children:(0,r.jsx)(x,{scope:a,cancelRef:h,children:(0,r.jsxs)(i.Content,{role:"alertdialog",...u,...d,ref:m,onOpenAutoFocus:(0,s.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(b,{children:l}),(0,r.jsx)(S,{contentRef:c})]})})})});y.displayName=v;var j="AlertDialogTitle",C=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,o=f(n);return(0,r.jsx)(i.Title,{...o,...a,ref:t})});C.displayName=j;var M="AlertDialogDescription",D=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,o=f(n);return(0,r.jsx)(i.Description,{...o,...a,ref:t})});D.displayName=M;var k=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,o=f(n);return(0,r.jsx)(i.Close,{...o,...a,ref:t})});k.displayName="AlertDialogAction";var N="AlertDialogCancel",P=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=w(N,n),l=f(n),d=(0,o.useComposedRefs)(t,s);return(0,r.jsx)(i.Close,{...l,...a,ref:d})});P.displayName=N;var S=({contentRef:e})=>{let t=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${M}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},T=e.i(647163),E=e.i(167881);function R({...e}){return(0,r.jsx)(m,{"data-slot":"alert-dialog",...e})}function A({...e}){return(0,r.jsx)(h,{"data-slot":"alert-dialog-trigger",...e})}function I({...e}){return(0,r.jsx)(p,{"data-slot":"alert-dialog-portal",...e})}function O({className:e,...t}){return(0,r.jsx)(g,{"data-slot":"alert-dialog-overlay",className:(0,T.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function F({className:e,...t}){return(0,r.jsxs)(I,{children:[(0,r.jsx)(O,{}),(0,r.jsx)(y,{"data-slot":"alert-dialog-content",className:(0,T.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function H({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,T.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function _({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,T.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function W({className:e,...t}){return(0,r.jsx)(C,{"data-slot":"alert-dialog-title",className:(0,T.cn)("text-lg font-semibold",e),...t})}function L({className:e,...t}){return(0,r.jsx)(D,{"data-slot":"alert-dialog-description",className:(0,T.cn)("text-muted-foreground text-sm",e),...t})}function z({className:e,...t}){return(0,r.jsx)(k,{className:(0,T.cn)((0,E.buttonVariants)(),e),...t})}function Y({className:e,...t}){return(0,r.jsx)(P,{className:(0,T.cn)((0,E.buttonVariants)({variant:"outline"}),e),...t})}e.s(["AlertDialog",()=>R,"AlertDialogAction",()=>z,"AlertDialogCancel",()=>Y,"AlertDialogContent",()=>F,"AlertDialogDescription",()=>L,"AlertDialogFooter",()=>_,"AlertDialogHeader",()=>H,"AlertDialogTitle",()=>W,"AlertDialogTrigger",()=>A],330009)},356909,e=>{"use strict";let t=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],356909)},643531,e=>{"use strict";var t=e.i(678745);e.s(["Check",()=>t.default])},127341,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(981140),a=e.i(30030),o=e.i(842727),i=e.i(296626),s=e.i(248425),l=e.i(586318),d=e.i(369340),u=e.i(610772),c="Tabs",[f,m]=(0,a.createContextScope)(c,[o.createRovingFocusGroupScope]),h=(0,o.createRovingFocusGroupScope)(),[p,g]=f(c),v=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:a,onValueChange:o,defaultValue:i,orientation:f="horizontal",dir:m,activationMode:h="automatic",...g}=e,v=(0,l.useDirection)(m),[x,w]=(0,d.useControllableState)({prop:a,onChange:o,defaultProp:i??"",caller:c});return(0,t.jsx)(p,{scope:n,baseId:(0,u.useId)(),value:x,onValueChange:w,orientation:f,dir:v,activationMode:h,children:(0,t.jsx)(s.Primitive.div,{dir:v,"data-orientation":f,...g,ref:r})})});v.displayName=c;var x="TabsList",w=r.forwardRef((e,r)=>{let{__scopeTabs:n,loop:a=!0,...i}=e,l=g(x,n),d=h(n);return(0,t.jsx)(o.Root,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:a,children:(0,t.jsx)(s.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:r})})});w.displayName=x;var b="TabsTrigger",y=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:i,disabled:l=!1,...d}=e,u=g(b,a),c=h(a),f=M(u.baseId,i),m=D(u.baseId,i),p=i===u.value;return(0,t.jsx)(o.Item,{asChild:!0,...c,focusable:!l,active:p,children:(0,t.jsx)(s.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:f,...d,ref:r,onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(i)}),onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(i)}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==u.activationMode;p||l||!e||u.onValueChange(i)})})})});y.displayName=b;var j="TabsContent",C=r.forwardRef((e,n)=>{let{__scopeTabs:a,value:o,forceMount:l,children:d,...u}=e,c=g(j,a),f=M(c.baseId,o),m=D(c.baseId,o),h=o===c.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:l||h,children:({present:r})=>(0,t.jsx)(s.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!r,id:m,tabIndex:0,...u,ref:n,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&d})})});function M(e,t){return`${e}-trigger-${t}`}function D(e,t){return`${e}-content-${t}`}C.displayName=j;var k=e.i(647163);function N({className:e,...r}){return(0,t.jsx)(v,{"data-slot":"tabs",className:(0,k.cn)("flex flex-col gap-2",e),...r})}function P({className:e,...r}){return(0,t.jsx)(w,{"data-slot":"tabs-list",className:(0,k.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function S({className:e,...r}){return(0,t.jsx)(y,{"data-slot":"tabs-trigger",className:(0,k.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function T({className:e,...r}){return(0,t.jsx)(C,{"data-slot":"tabs-content",className:(0,k.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>N,"TabsContent",()=>T,"TabsList",()=>P,"TabsTrigger",()=>S],127341)},514764,e=>{"use strict";let t=(0,e.i(475254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],514764)},463415,e=>{"use strict";let t,r,n;var a=e.i(843476),o=e.i(271645),i=e.i(981140),s=e.i(820783),l=e.i(30030),d=e.i(369340),u=e.i(248425),c=e.i(75830),f=e.i(586318),m=e.i(726330),h=e.i(303536),p=e.i(765491),g=e.i(610772),v=e.i(853660),x=e.i(774606),w=e.i(296626),b=e.i(842727),y=Symbol("radix.slottable");function j(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===y}var C=e.i(30207),M=e.i(186312),D=e.i(985369),k=["Enter"," "],N=["ArrowUp","PageDown","End"],P=["ArrowDown","PageUp","Home",...N],S={ltr:[...k,"ArrowRight"],rtl:[...k,"ArrowLeft"]},T={ltr:["ArrowLeft"],rtl:["ArrowRight"]},E="Menu",[R,A,I]=(0,c.createCollection)(E),[O,F]=(0,l.createContextScope)(E,[I,v.createPopperScope,b.createRovingFocusGroupScope]),H=(0,v.createPopperScope)(),_=(0,b.createRovingFocusGroupScope)(),[W,L]=O(E),[z,Y]=O(E),q=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:l=!0}=e,d=H(t),[u,c]=o.useState(null),m=o.useRef(!1),h=(0,C.useCallbackRef)(s),p=(0,f.useDirection)(i);return o.useEffect(()=>{let e=()=>{m.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>m.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,a.jsx)(v.Root,{...d,children:(0,a.jsx)(W,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:c,children:(0,a.jsx)(z,{scope:t,onClose:o.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:p,modal:l,children:n})})})};q.displayName=E;var G=o.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=H(r);return(0,a.jsx)(v.Anchor,{...o,...n,ref:t})});G.displayName="MenuAnchor";var $="MenuPortal",[K,V]=O($,{forceMount:void 0}),B=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:o}=e,i=L($,t);return(0,a.jsx)(K,{scope:t,forceMount:r,children:(0,a.jsx)(w.Presence,{present:r||i.open,children:(0,a.jsx)(x.Portal,{asChild:!0,container:o,children:n})})})};B.displayName=$;var U="MenuContent",[X,Q]=O(U),J=o.forwardRef((e,t)=>{let r=V(U,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=L(U,e.__scopeMenu),s=Y(U,e.__scopeMenu);return(0,a.jsx)(R.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(w.Presence,{present:n||i.open,children:(0,a.jsx)(R.Slot,{scope:e.__scopeMenu,children:s.modal?(0,a.jsx)(Z,{...o,ref:t}):(0,a.jsx)(ee,{...o,ref:t})})})})}),Z=o.forwardRef((e,t)=>{let r=L(U,e.__scopeMenu),n=o.useRef(null),l=(0,s.useComposedRefs)(t,n);return o.useEffect(()=>{let e=n.current;if(e)return(0,M.hideOthers)(e)},[]),(0,a.jsx)(er,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ee=o.forwardRef((e,t)=>{let r=L(U,e.__scopeMenu);return(0,a.jsx)(er,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),et=((n=o.forwardRef((e,t)=>{let{children:r,...n}=e;if(o.isValidElement(r)){var a;let e,i,l=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),d=function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{let t=o(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==o.Fragment&&(d.ref=t?(0,s.composeRefs)(t,l):l),o.cloneElement(r,d)}return o.Children.count(r)>1?o.Children.only(null):null})).displayName="MenuContent.ScrollLock.SlotClone",t=n,(r=o.forwardRef((e,r)=>{let{children:n,...i}=e,s=o.Children.toArray(n),l=s.find(j);if(l){let e=l.props.children,n=s.map(t=>t!==l?t:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...i,ref:r,children:o.isValidElement(e)?o.cloneElement(e,void 0,n):null})}return(0,a.jsx)(t,{...i,ref:r,children:n})})).displayName="MenuContent.ScrollLock.Slot",r),er=o.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:l,onOpenAutoFocus:d,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:w,onInteractOutside:y,onDismiss:j,disableOutsideScroll:C,...M}=e,k=L(U,r),S=Y(U,r),T=H(r),E=_(r),R=A(r),[I,O]=o.useState(null),F=o.useRef(null),W=(0,s.useComposedRefs)(t,F,k.onContentChange),z=o.useRef(0),q=o.useRef(""),G=o.useRef(0),$=o.useRef(null),K=o.useRef("right"),V=o.useRef(0),B=C?D.RemoveScroll:o.Fragment;o.useEffect(()=>()=>window.clearTimeout(z.current),[]),(0,h.useFocusGuards)();let Q=o.useCallback(e=>{var t,r;return K.current===$.current?.side&&(t=e,!!(r=$.current?.area)&&function(e,t){let{x:r,y:n}=e,a=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let i=t[e],s=t[o],l=i.x,d=i.y,u=s.x,c=s.y;d>n!=c>n&&r<(u-l)*(n-d)/(c-d)+l&&(a=!a)}return a}({x:t.clientX,y:t.clientY},r))},[]);return(0,a.jsx)(X,{scope:r,searchRef:q,onItemEnter:o.useCallback(e=>{Q(e)&&e.preventDefault()},[Q]),onItemLeave:o.useCallback(e=>{Q(e)||(F.current?.focus(),O(null))},[Q]),onTriggerLeave:o.useCallback(e=>{Q(e)&&e.preventDefault()},[Q]),pointerGraceTimerRef:G,onPointerGraceIntentChange:o.useCallback(e=>{$.current=e},[]),children:(0,a.jsx)(B,{...C?{as:et,allowPinchZoom:!0}:void 0,children:(0,a.jsx)(p.FocusScope,{asChild:!0,trapped:l,onMountAutoFocus:(0,i.composeEventHandlers)(d,e=>{e.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:(0,a.jsx)(m.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:w,onInteractOutside:y,onDismiss:j,children:(0,a.jsx)(b.Root,{asChild:!0,...E,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:I,onCurrentTabStopIdChange:O,onEntryFocus:(0,i.composeEventHandlers)(f,e=>{S.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,a.jsx)(v.Content,{role:"menu","aria-orientation":"vertical","data-state":eP(k.open),"data-radix-menu-content":"",dir:S.dir,...T,...M,ref:W,style:{outline:"none",...M.style},onKeyDown:(0,i.composeEventHandlers)(M.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var a;let t,o,i,s,l,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(a=e.key,t=q.current+a,o=R().filter(e=>!e.disabled),i=document.activeElement,s=o.find(e=>e.ref.current===i)?.textValue,l=function(e,t,r){var n;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=r?e.indexOf(r):-1,i=(n=Math.max(o,0),e.map((t,r)=>e[(n+r)%e.length]));1===a.length&&(i=i.filter(e=>e!==r));let s=i.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(o.map(e=>e.textValue),t,s),d=o.find(e=>e.textValue===l)?.ref.current,function e(t){q.current=t,window.clearTimeout(z.current),""!==t&&(z.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let o=F.current;if(e.target!==o||!P.includes(e.key))return;e.preventDefault();let i=R().filter(e=>!e.disabled).map(e=>e.ref.current);N.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(i)}),onBlur:(0,i.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(z.current),q.current="")}),onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,eE(e=>{let t=e.target,r=V.current!==e.clientX;e.currentTarget.contains(t)&&r&&(K.current=e.clientX>V.current?"right":"left",V.current=e.clientX)}))})})})})})})});J.displayName=U;var en=o.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(u.Primitive.div,{role:"group",...n,ref:t})});en.displayName="MenuGroup";var ea=o.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(u.Primitive.div,{...n,ref:t})});ea.displayName="MenuLabel";var eo="MenuItem",ei="menu.itemSelect",es=o.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...l}=e,d=o.useRef(null),c=Y(eo,e.__scopeMenu),f=Q(eo,e.__scopeMenu),m=(0,s.useComposedRefs)(t,d),h=o.useRef(!1);return(0,a.jsx)(el,{...l,ref:m,disabled:r,onClick:(0,i.composeEventHandlers)(e.onClick,()=>{let e=d.current;if(!r&&e){let t=new CustomEvent(ei,{bubbles:!0,cancelable:!0});e.addEventListener(ei,e=>n?.(e),{once:!0}),(0,u.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?h.current=!1:c.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),h.current=!0},onPointerUp:(0,i.composeEventHandlers)(e.onPointerUp,e=>{h.current||e.currentTarget?.click()}),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==f.searchRef.current;r||t&&" "===e.key||k.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});es.displayName=eo;var el=o.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:l,...d}=e,c=Q(eo,r),f=_(r),m=o.useRef(null),h=(0,s.useComposedRefs)(t,m),[p,g]=o.useState(!1),[v,x]=o.useState("");return o.useEffect(()=>{let e=m.current;e&&x((e.textContent??"").trim())},[d.children]),(0,a.jsx)(R.ItemSlot,{scope:r,disabled:n,textValue:l??v,children:(0,a.jsx)(b.Item,{asChild:!0,...f,focusable:!n,children:(0,a.jsx)(u.Primitive.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...d,ref:h,onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,eE(e=>{n?c.onItemLeave(e):(c.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,i.composeEventHandlers)(e.onPointerLeave,eE(e=>c.onItemLeave(e))),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>g(!0)),onBlur:(0,i.composeEventHandlers)(e.onBlur,()=>g(!1))})})})}),ed=o.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...o}=e;return(0,a.jsx)(ev,{scope:e.__scopeMenu,checked:r,children:(0,a.jsx)(es,{role:"menuitemcheckbox","aria-checked":eS(r)?"mixed":r,...o,ref:t,"data-state":eT(r),onSelect:(0,i.composeEventHandlers)(o.onSelect,()=>n?.(!!eS(r)||!r),{checkForDefaultPrevented:!1})})})});ed.displayName="MenuCheckboxItem";var eu="MenuRadioGroup",[ec,ef]=O(eu,{value:void 0,onValueChange:()=>{}}),em=o.forwardRef((e,t)=>{let{value:r,onValueChange:n,...o}=e,i=(0,C.useCallbackRef)(n);return(0,a.jsx)(ec,{scope:e.__scopeMenu,value:r,onValueChange:i,children:(0,a.jsx)(en,{...o,ref:t})})});em.displayName=eu;var eh="MenuRadioItem",ep=o.forwardRef((e,t)=>{let{value:r,...n}=e,o=ef(eh,e.__scopeMenu),s=r===o.value;return(0,a.jsx)(ev,{scope:e.__scopeMenu,checked:s,children:(0,a.jsx)(es,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":eT(s),onSelect:(0,i.composeEventHandlers)(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ep.displayName=eh;var eg="MenuItemIndicator",[ev,ex]=O(eg,{checked:!1}),ew=o.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...o}=e,i=ex(eg,r);return(0,a.jsx)(w.Presence,{present:n||eS(i.checked)||!0===i.checked,children:(0,a.jsx)(u.Primitive.span,{...o,ref:t,"data-state":eT(i.checked)})})});ew.displayName=eg;var eb=o.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(u.Primitive.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});eb.displayName="MenuSeparator";var ey=o.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=H(r);return(0,a.jsx)(v.Arrow,{...o,...n,ref:t})});ey.displayName="MenuArrow";var[ej,eC]=O("MenuSub"),eM="MenuSubTrigger",eD=o.forwardRef((e,t)=>{let r=L(eM,e.__scopeMenu),n=Y(eM,e.__scopeMenu),l=eC(eM,e.__scopeMenu),d=Q(eM,e.__scopeMenu),u=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=d,m={__scopeMenu:e.__scopeMenu},h=o.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return o.useEffect(()=>h,[h]),o.useEffect(()=>{let e=c.current;return()=>{window.clearTimeout(e),f(null)}},[c,f]),(0,a.jsx)(G,{asChild:!0,...m,children:(0,a.jsx)(el,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":eP(r.open),...e,ref:(0,s.composeRefs)(t,l.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,eE(t=>{d.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||u.current||(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100)))})),onPointerLeave:(0,i.composeEventHandlers)(e.onPointerLeave,eE(e=>{h();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,a="right"===n,o=t[a?"left":"right"],i=t[a?"right":"left"];d.onPointerGraceIntentChange({area:[{x:e.clientX+(a?-5:5),y:e.clientY},{x:o,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:o,y:t.bottom}],side:n}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(e),e.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,t=>{let a=""!==d.searchRef.current;e.disabled||a&&" "===t.key||S[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});eD.displayName=eM;var ek="MenuSubContent",eN=o.forwardRef((e,t)=>{let r=V(U,e.__scopeMenu),{forceMount:n=r.forceMount,...l}=e,d=L(U,e.__scopeMenu),u=Y(U,e.__scopeMenu),c=eC(ek,e.__scopeMenu),f=o.useRef(null),m=(0,s.useComposedRefs)(t,f);return(0,a.jsx)(R.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(w.Presence,{present:n||d.open,children:(0,a.jsx)(R.Slot,{scope:e.__scopeMenu,children:(0,a.jsx)(er,{id:c.contentId,"aria-labelledby":c.triggerId,...l,ref:m,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{u.isUsingKeyboardRef.current&&f.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==c.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:(0,i.composeEventHandlers)(e.onEscapeKeyDown,e=>{u.onClose(),e.preventDefault()}),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=T[u.dir].includes(e.key);t&&r&&(d.onOpenChange(!1),c.trigger?.focus(),e.preventDefault())})})})})})});function eP(e){return e?"open":"closed"}function eS(e){return"indeterminate"===e}function eT(e){return eS(e)?"indeterminate":e?"checked":"unchecked"}function eE(e){return t=>"mouse"===t.pointerType?e(t):void 0}eN.displayName=ek;var eR="DropdownMenu",[eA,eI]=(0,l.createContextScope)(eR,[F]),eO=F(),[eF,eH]=eA(eR),e_=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,c=eO(t),f=o.useRef(null),[m,h]=(0,d.useControllableState)({prop:i,defaultProp:s??!1,onChange:l,caller:eR});return(0,a.jsx)(eF,{scope:t,triggerId:(0,g.useId)(),triggerRef:f,contentId:(0,g.useId)(),open:m,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(e=>!e),[h]),modal:u,children:(0,a.jsx)(q,{...c,open:m,onOpenChange:h,dir:n,modal:u,children:r})})};e_.displayName=eR;var eW="DropdownMenuTrigger",eL=o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,l=eH(eW,r),d=eO(r);return(0,a.jsx)(G,{asChild:!0,...d,children:(0,a.jsx)(u.Primitive.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:(0,s.composeRefs)(t,l.triggerRef),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(l.onOpenToggle(),l.open||e.preventDefault())}),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&l.onOpenToggle(),"ArrowDown"===e.key&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eL.displayName=eW;var ez=e=>{let{__scopeDropdownMenu:t,...r}=e,n=eO(t);return(0,a.jsx)(B,{...n,...r})};ez.displayName="DropdownMenuPortal";var eY="DropdownMenuContent",eq=o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eH(eY,r),l=eO(r),d=o.useRef(!1);return(0,a.jsx)(J,{id:s.contentId,"aria-labelledby":s.triggerId,...l,...n,ref:t,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{d.current||s.triggerRef.current?.focus(),d.current=!1,e.preventDefault()}),onInteractOutside:(0,i.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!s.modal||n)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eq.displayName=eY,o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(en,{...o,...n,ref:t})}).displayName="DropdownMenuGroup",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(ea,{...o,...n,ref:t})}).displayName="DropdownMenuLabel";var eG=o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(es,{...o,...n,ref:t})});eG.displayName="DropdownMenuItem";var e$=o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(ed,{...o,...n,ref:t})});e$.displayName="DropdownMenuCheckboxItem",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(em,{...o,...n,ref:t})}).displayName="DropdownMenuRadioGroup",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(ep,{...o,...n,ref:t})}).displayName="DropdownMenuRadioItem";var eK=o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(ew,{...o,...n,ref:t})});eK.displayName="DropdownMenuItemIndicator",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(eb,{...o,...n,ref:t})}).displayName="DropdownMenuSeparator",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(ey,{...o,...n,ref:t})}).displayName="DropdownMenuArrow",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(eD,{...o,...n,ref:t})}).displayName="DropdownMenuSubTrigger",o.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eO(r);return(0,a.jsx)(eN,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";var eV=e.i(678784);(0,e.i(475254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),e.i(733498);var eB=e.i(647163);function eU({...e}){return(0,a.jsx)(e_,{"data-slot":"dropdown-menu",...e})}function eX({...e}){return(0,a.jsx)(eL,{"data-slot":"dropdown-menu-trigger",...e})}function eQ({className:e,sideOffset:t=4,...r}){return(0,a.jsx)(ez,{children:(0,a.jsx)(eq,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,eB.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function eJ({className:e,inset:t,variant:r="default",...n}){return(0,a.jsx)(eG,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,eB.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function eZ({className:e,children:t,checked:r,...n}){return(0,a.jsxs)(e$,{"data-slot":"dropdown-menu-checkbox-item",className:(0,eB.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),checked:r,...n,children:[(0,a.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(eK,{children:(0,a.jsx)(eV.CheckIcon,{className:"size-4"})})}),t]})}e.s(["DropdownMenu",()=>eU,"DropdownMenuCheckboxItem",()=>eZ,"DropdownMenuContent",()=>eQ,"DropdownMenuItem",()=>eJ,"DropdownMenuTrigger",()=>eX],463415)},323585,e=>{"use strict";let t=(0,e.i(475254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],323585)},401851,515e3,679564,216283,710961,e=>{"use strict";let t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}e.s(["buildFormatLongFn",()=>r],515e3);let n={date:r({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:r({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:r({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function o(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{let t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}e.s(["buildLocalizeFn",()=>o],679564);let i={ordinalNumber:(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:o({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:o({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:o({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:o({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function s(e){return(t,r={})=>{let n,a=r.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;let s=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(l,e=>e.test(s)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(l,e=>e.test(s));return n=e.valueCallback?e.valueCallback(d):d,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(s.length)}}}function l(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(a.length)}}}e.s(["buildMatchFn",()=>s],216283),e.s(["buildMatchPatternFn",()=>l],710961);let d={code:"en-US",formatDistance:(e,r,n)=>{let a,o=t[e];if(a="string"==typeof o?o:1===r?o.one:o.other.replace("{{count}}",r.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"in "+a;else return a+" ago";return a},formatLong:n,formatRelative:(e,t,r,n)=>a[e],localize:i,match:{ordinalNumber:l({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:s({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:s({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:s({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:s({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:s({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},u={},c=Symbol.for("constructDateFrom");function f(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&c in e?e[c](t):e instanceof Date?new e.constructor(t):new Date(t)}function m(e,t){return f(t||e,e)}function h(e){let t=m(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),e-r}function p(e,t){let r=m(e,t?.in);return r.setHours(0,0,0,0),r}function g(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,n=m(e,t?.in),a=n.getDay();return n.setDate(n.getDate()-(7*(a<r)+a-r)),n.setHours(0,0,0,0),n}function v(e,t){return g(e,{...t,weekStartsOn:1})}function x(e,t){let r=m(e,t?.in),n=r.getFullYear(),a=f(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);let o=v(a),i=f(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let s=v(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function w(e,t){let r=m(e,t?.in),n=r.getFullYear(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,o=f(t?.in||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);let i=g(o,t),s=f(t?.in||e,0);s.setFullYear(n,0,a),s.setHours(0,0,0,0);let l=g(s,t);return+r>=+i?n+1:+r>=+l?n:n-1}function b(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let y={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return b("yy"===t?n%100:n,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):b(r+1,2)},d:(e,t)=>b(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>b(e.getHours()%12||12,t.length),H:(e,t)=>b(e.getHours(),t.length),m:(e,t)=>b(e.getMinutes(),t.length),s:(e,t)=>b(e.getSeconds(),t.length),S(e,t){let r=t.length;return b(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},j={G:function(e,t,r){let n=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return y.y(e,t)},Y:function(e,t,r,n){let a=w(e,n),o=a>0?a:1-a;return"YY"===t?b(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):b(o,t.length)},R:function(e,t){return b(x(e),t.length)},u:function(e,t){return b(e.getFullYear(),t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return b(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return b(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return y.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return b(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){let a,o,i,s,l=Math.round((g(a=m(e,n?.in),n)-(o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,i=w(a,n),(s=f(n?.in||a,0)).setFullYear(i,0,o),s.setHours(0,0,0,0),g(s,n)))/6048e5)+1;return"wo"===t?r.ordinalNumber(l,{unit:"week"}):b(l,t.length)},I:function(e,t,r){let n,a,o,i=Math.round((v(n=m(e,void 0))-(a=x(n,void 0),(o=f(n,0)).setFullYear(a,0,4),o.setHours(0,0,0,0),v(o)))/6048e5)+1;return"Io"===t?r.ordinalNumber(i,{unit:"week"}):b(i,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):y.d(e,t)},D:function(e,t,r){let n,a,o=function(e,t,r){let[n,a]=function(e,...t){let r=f.bind(null,e||t.find(e=>"object"==typeof e));return t.map(r)}(void 0,e,t),o=p(n),i=p(a);return Math.round((o-h(o)-(i-h(i)))/864e5)}(n=m(e,void 0),((a=m(n,void 0)).setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a))+1;return"Do"===t?r.ordinalNumber(o,{unit:"dayOfYear"}):b(o,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){let a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return b(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){let a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return b(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){let n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return b(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){let n,a=e.getHours();switch(n=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){let n,a=e.getHours();switch(n=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return y.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):y.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):b(n,t.length)},k:function(e,t,r){let n=e.getHours();return(0===n&&(n=24),"ko"===t)?r.ordinalNumber(n,{unit:"hour"}):b(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):y.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):y.s(e,t)},S:function(e,t){return y.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return M(n);case"XXXX":case"XX":return D(n);default:return D(n,":")}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return M(n);case"xxxx":case"xx":return D(n);default:return D(n,":")}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+C(n,":");default:return"GMT"+D(n,":")}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+C(n,":");default:return"GMT"+D(n,":")}},t:function(e,t,r){return b(Math.trunc(e/1e3),t.length)},T:function(e,t,r){return b(+e,t.length)}};function C(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return 0===o?r+String(a):r+String(a)+t+b(o,2)}function M(e,t){return e%60==0?(e>0?"-":"+")+b(Math.abs(e)/60,2):D(e,t)}function D(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+b(Math.trunc(r/60),2)+t+b(r%60,2)}let k=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},N=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},P={p:N,P:(e,t)=>{let r,n=e.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return k(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",k(a,t)).replace("{{time}}",N(o,t))}},S=/^D+$/,T=/^Y+$/,E=["D","DD","YY","YYYY"],R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I=/^'([^]*?)'?$/,O=/''/g,F=/[a-zA-Z]/;function H(e,t,r){let n=r?.locale??u.locale??d,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,i=m(e,r?.in);if(!(i instanceof Date||"object"==typeof i&&"[object Date]"===Object.prototype.toString.call(i))&&"number"!=typeof i||isNaN(+m(i)))throw RangeError("Invalid time value");let s=t.match(A).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,P[t])(e,n.formatLong):e}).join("").match(R).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var r;let t;return{isToken:!1,value:(t=(r=e).match(I))?t[1].replace(O,"'"):r}}if(j[t])return{isToken:!0,value:e};if(t.match(F))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});n.localize.preprocessor&&(s=n.localize.preprocessor(i,s));let l={firstWeekContainsDate:a,weekStartsOn:o,locale:n};return s.map(a=>{if(!a.isToken)return a.value;let o=a.value;return(!r?.useAdditionalWeekYearTokens&&T.test(o)||!r?.useAdditionalDayOfYearTokens&&S.test(o))&&function(e,t,r){var n,a,o;let i,s=(n=e,a=t,o=r,i="Y"===n[0]?"years":"days of the month",`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${a}\`) for formatting ${i} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(s),E.includes(e))throw RangeError(s)}(o,t,String(e)),(0,j[o[0]])(i,o,n.localize,l)}).join("")}e.s(["format",()=>H],401851)},209618,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(618566),a=e.i(145645),o=e.i(948148),i=e.i(970065),s=e.i(167881),l=e.i(23750),d=e.i(686311),u=e.i(514764),c=e.i(879664),c=c,f=e.i(727612),m=e.i(323585),h=e.i(643531);let p=(0,e.i(475254).default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var g=e.i(120682),v=e.i(63270),x=e.i(471435),w=e.i(401851),b=e.i(630374),y=e.i(463415),j=e.i(330009),C=e.i(127341),M=e.i(765220),D=e.i(512475),k=e.i(466141);function N(){let{user:e}=(0,a.useUser)(),N=(0,n.useRouter)(),P=(0,n.useSearchParams)(),{toast:S}=(0,g.useToast)(),[T,E]=(0,r.useState)([]),[R,A]=(0,r.useState)(null),[I,O]=(0,r.useState)([]),[F,H]=(0,r.useState)(""),[_,W]=(0,r.useState)(!0),[L,z]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(!1),[G,$]=(0,r.useState)(!1),[K,V]=(0,r.useState)(!1),B=(0,r.useRef)(null),U=(0,r.useRef)(null),X=(0,o.useTranslations)("messaging");(0,o.useTranslations)("common");let Q=P.get("chatId");function J(){U.current&&(U.current.scrollTop=U.current.scrollHeight)}async function Z(){try{let e=await fetch("/api/chats");if(!e.ok){let t=await e.json().catch(()=>({error:"Unknown error"}));throw console.error("Failed to fetch chats:",t),Error(t.error||"Failed to fetch chats")}let t=await e.json();if(E(t),Q){let e=t.find(e=>e.id===Q);e&&A(e)}}catch(e){console.error("Error fetching chats:",e),S({title:"Erreur",description:"Impossible de charger les conversations",variant:"destructive"})}finally{W(!1)}}async function ee(e,t=!1){try{let r=await fetch(`/api/chats/${e}/messages`);if(!r.ok){if(403===r.status){t&&S({title:"Erreur",description:"Vous n'avez plus accs  cette conversation",variant:"destructive"}),A(null),N.push("/dashboard/messaging");return}throw Error("Failed to fetch messages")}let n=await r.json();O(n),ei(n)}catch(e){console.error("Error fetching messages:",e),t&&S({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}}async function et(e){if(e.preventDefault(),F.trim()&&R&&!L){z(!0);try{let e=await fetch(`/api/chats/${R.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:F.trim()})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to send message")}let t=await e.json();O(e=>[...e,t]),H(""),await Z(),setTimeout(()=>J(),100)}catch(e){S({title:"Erreur",description:e instanceof Error?e.message:"Impossible d'envoyer le message",variant:"destructive"})}finally{z(!1)}}}function er(t){if(t.name)return t.name;if("DIRECT"===t.type){let r=t.members.find(t=>t.user.id!==e?.id);return r?.user.name||r?.user.email||"Conversation"}return"Groupe"}function en(t){if("DIRECT"===t.type){let r=t.members.find(t=>t.user.id!==e?.id);return r?.user.picture||null}return null}function ea(){return R&&"DIRECT"===R.type?R.members.find(t=>t.user.id!==e?.id)?.user:null}async function eo(e){try{await fetch(`/api/chats/${e}/read`,{method:"POST"}),Z()}catch(e){console.error("Error marking chat as read:",e)}}async function ei(t){e&&Promise.all(t.filter(t=>t.senderId!==e.id&&!t.isRead).map(e=>fetch(`/api/messages/${e.id}/read`,{method:"POST"}).catch(t=>{console.error(`Error marking message ${e.id} as read:`,t)}))).then(()=>{R&&ee(R.id,!1),Z()})}async function es(){if(R&&!K){V(!0);try{let e=await fetch(`/api/chats/${R.id}`,{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete chat")}S({title:"Succs",description:"Conversation supprime avec succs"}),A(null),N.push("/dashboard/messaging"),Z()}catch(e){S({title:"Erreur",description:e instanceof Error?e.message:"Impossible de supprimer la conversation",variant:"destructive"})}finally{V(!1),$(!1)}}}return(0,r.useEffect)(()=>{e&&Z()},[e]),(0,r.useEffect)(()=>{if(Q&&T.length>0){let e=T.find(e=>e.id===Q);e&&(A(e),ee(e.id,!0))}},[Q,T]),(0,r.useEffect)(()=>{if(R){ee(R.id,!0);let e=setInterval(()=>{R&&ee(R.id,!1)},1e4);return()=>clearInterval(e)}},[R]),(0,r.useEffect)(()=>{if(U.current){let{scrollTop:e,scrollHeight:t,clientHeight:r}=U.current;(t-e-r<100||0===I.length)&&setTimeout(()=>J(),100)}},[I]),_?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)("div",{children:"Chargement..."})}):(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:X("title")}),(0,t.jsx)("p",{className:"text-muted-foreground",children:X("subtitle")})]}),(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3 h-[calc(100vh-200px)]",children:[(0,t.jsxs)(i.Card,{className:"lg:col-span-1 flex flex-col",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Conversations"})}),(0,t.jsx)(i.CardContent,{className:"flex-1 overflow-hidden p-0",children:(0,t.jsx)(x.ScrollArea,{className:"h-full",children:(0,t.jsx)("div",{className:"p-4 space-y-2",children:0===T.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:X("noConversations")}):T.map(e=>(0,t.jsx)("div",{onClick:()=>{A(e),N.push(`/dashboard/messaging?chatId=${e.id}`),eo(e.id)},className:`p-3 rounded-lg cursor-pointer transition-colors ${R?.id===e.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(v.Avatar,{className:"h-10 w-10",children:[(0,t.jsx)(v.AvatarImage,{src:en(e)||void 0}),(0,t.jsx)(v.AvatarFallback,{children:er(e).charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:`font-medium truncate ${e.hasUnread?"font-bold":""}`,children:er(e)}),e.unreadCount&&e.unreadCount>0&&(0,t.jsx)("span",{className:"ml-2 bg-primary text-primary-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center",children:e.unreadCount>99?"99+":e.unreadCount})]}),(0,t.jsx)("div",{className:`text-xs truncate ${R?.id===e.id?"text-primary-foreground/80":e.hasUnread?"font-semibold text-foreground":"text-muted-foreground"}`,children:function(e){if(0===e.messages.length)return"Aucun message";let t=e.messages[0];return t.content.substring(0,50)+(t.content.length>50?"...":"")}(e)})]})]})},e.id))})})})]}),(0,t.jsx)(i.Card,{className:"lg:col-span-2 flex flex-col",children:R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.CardHeader,{className:"border-b",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(v.Avatar,{children:[(0,t.jsx)(v.AvatarImage,{src:en(R)||void 0}),(0,t.jsx)(v.AvatarFallback,{children:er(R).charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{children:er(R)}),"DIRECT"===R.type&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:R.members.find(t=>t.user.id!==e?.id)?.user.email||""})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["DIRECT"===R.type&&ea()&&e?.role==="PRO"&&(0,t.jsxs)(b.Dialog,{open:Y,onOpenChange:q,children:[(0,t.jsx)(b.DialogTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",children:(0,t.jsx)(c.default,{className:"h-4 w-4"})})}),(0,t.jsxs)(b.DialogContent,{className:"max-w-4xl w-[95vw] h-[95vh] max-h-[95vh] !flex !flex-col !grid-cols-none gap-0 p-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-shrink-0 p-6 border-b bg-background",children:(0,t.jsxs)(b.DialogHeader,{children:[(0,t.jsxs)(b.DialogTitle,{children:["Profil de ",ea()?.name||ea()?.email]}),(0,t.jsx)(b.DialogDescription,{children:"Informations sportives et nutritionnelles du client"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden min-h-0",children:(0,t.jsxs)(C.Tabs,{defaultValue:"sport",className:"w-full h-full flex flex-col",children:[(0,t.jsxs)(C.TabsList,{className:"flex-shrink-0 mx-6 mt-4 mb-4",children:[(0,t.jsxs)(C.TabsTrigger,{value:"sport",children:[(0,t.jsx)(D.Dumbbell,{className:"mr-2 h-4 w-4"}),"Profil Sportif"]}),(0,t.jsxs)(C.TabsTrigger,{value:"nutrition",children:[(0,t.jsx)(k.Apple,{className:"mr-2 h-4 w-4"}),"Profil Nutritionnel"]})]}),(0,t.jsx)(C.TabsContent,{value:"sport",className:"flex-1 overflow-hidden mt-0 px-6 pb-6",children:(0,t.jsx)(x.ScrollArea,{className:"h-full w-full",children:(0,t.jsx)("div",{className:"pr-4",children:(0,t.jsx)(M.UserProfileForm,{open:!0,onOpenChange:()=>{},userId:ea().id,type:"SPORT",embedded:!0,onSuccess:()=>{}})})})}),(0,t.jsx)(C.TabsContent,{value:"nutrition",className:"flex-1 overflow-hidden mt-0 px-6 pb-6",children:(0,t.jsx)(x.ScrollArea,{className:"h-full w-full",children:(0,t.jsx)("div",{className:"pr-4",children:(0,t.jsx)(M.UserProfileForm,{open:!0,onOpenChange:()=>{},userId:ea().id,type:"NUTRITION",embedded:!0,onSuccess:()=>{}})})})})]})})]})]}),(0,t.jsxs)(y.DropdownMenu,{children:[(0,t.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",children:(0,t.jsx)(m.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsx)(y.DropdownMenuContent,{align:"end",children:(0,t.jsxs)(y.DropdownMenuItem,{className:"text-destructive",onClick:()=>$(!0),children:[(0,t.jsx)(f.Trash2,{className:"mr-2 h-4 w-4"}),"Supprimer la conversation"]})})]})]})]})}),(0,t.jsxs)(i.CardContent,{className:"flex-1 flex flex-col p-0 overflow-hidden",children:[(0,t.jsx)("div",{ref:U,className:"flex-1 overflow-y-auto p-4",children:(0,t.jsx)("div",{className:"space-y-4",children:0===I.length?(0,t.jsx)("div",{className:"text-center text-muted-foreground py-8",children:X("noMessages")}):(0,t.jsxs)(t.Fragment,{children:[I.map(r=>{let n=r.senderId===e?.id;return(0,t.jsxs)("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[(0,t.jsxs)(v.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(v.AvatarImage,{src:r.sender.picture||void 0}),(0,t.jsx)(v.AvatarFallback,{children:r.sender.name?r.sender.name.charAt(0).toUpperCase():r.sender.email.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:`flex flex-col max-w-[70%] ${n?"items-end":"items-start"}`,children:[(0,t.jsx)("div",{className:`rounded-lg px-4 py-2 ${n?"bg-primary text-primary-foreground":"bg-muted"}`,children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:r.content})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,w.format)(new Date(r.createdAt),"HH:mm")}),n&&(0,t.jsx)("div",{className:"ml-1",children:r.isReadByAll?(0,t.jsx)(p,{className:"h-3 w-3 text-primary"}):r.isRead?(0,t.jsx)(p,{className:"h-3 w-3 text-muted-foreground"}):(0,t.jsx)(h.Check,{className:"h-3 w-3 text-muted-foreground"})})]})]})]},r.id)}),(0,t.jsx)("div",{ref:B})]})})}),(0,t.jsxs)("form",{onSubmit:et,className:"border-t p-4 flex gap-2",children:[(0,t.jsx)(l.Input,{value:F,onChange:e=>H(e.target.value),placeholder:"Tapez votre message...",disabled:L,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),et(e))}}),(0,t.jsx)(s.Button,{type:"submit",disabled:L||!F.trim(),children:(0,t.jsx)(u.Send,{className:"h-4 w-4"})})]})]})]}):(0,t.jsx)(i.CardContent,{className:"flex-1 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(d.MessageSquare,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:X("selectConversation")})]})})})]}),(0,t.jsx)(j.AlertDialog,{open:G,onOpenChange:$,children:(0,t.jsxs)(j.AlertDialogContent,{children:[(0,t.jsxs)(j.AlertDialogHeader,{children:[(0,t.jsx)(j.AlertDialogTitle,{children:X("deleteConfirmTitle")}),(0,t.jsx)(j.AlertDialogDescription,{children:X("deleteConfirmDescription")})]}),(0,t.jsxs)(j.AlertDialogFooter,{children:[(0,t.jsx)(j.AlertDialogCancel,{disabled:K,children:"Annuler"}),(0,t.jsx)(j.AlertDialogAction,{onClick:es,disabled:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:K?"Suppression...":"Supprimer"})]})]})})]})}e.s(["default",()=>N],209618)}]);