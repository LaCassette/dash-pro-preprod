(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},10708,e=>{"use strict";var t=e.i(843476),a=e.i(271645);e.i(174080);var s=e.i(991918),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let l=(0,s.createSlot)(`Primitive.${r}`),i=a.forwardRef((e,a)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?l:r,{...i,ref:a})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),l=a.forwardRef((e,a)=>(0,t.jsx)(r.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=e.i(647163);function n({className:e,...a}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],10708)},630374,e=>{"use strict";var t=e.i(843476),a=e.i(326999),s=e.i(995926),r=e.i(647163);function l({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function i({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function n({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function d({className:e,children:l,showCloseButton:i=!0,...d}){return(0,t.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[l,i&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function m({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}function x({className:e,...s}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>l,"DialogContent",()=>d,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>i])},330009,e=>{"use strict";let t;var a=e.i(843476),s=e.i(271645),r=e.i(30030),l=e.i(820783),i=e.i(326999),n=e.i(981140),o=Symbol("radix.slottable"),d="AlertDialog",[c,u]=(0,r.createContextScope)(d,[i.createDialogScope]),m=(0,i.createDialogScope)(),x=e=>{let{__scopeAlertDialog:t,...s}=e,r=m(t);return(0,a.jsx)(i.Root,{...r,...s,modal:!0})};x.displayName=d;var p=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(i.Trigger,{...l,...r,ref:t})});p.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...s}=e,r=m(t);return(0,a.jsx)(i.Portal,{...r,...s})};h.displayName="AlertDialogPortal";var g=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(i.Overlay,{...l,...r,ref:t})});g.displayName="AlertDialogOverlay";var f="AlertDialogContent",[j,v]=c(f),N=((t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",t.__radixId=o,t),y=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:o,...d}=e,c=m(r),u=s.useRef(null),x=(0,l.useComposedRefs)(t,u),p=s.useRef(null);return(0,a.jsx)(i.WarningProvider,{contentName:f,titleName:b,docsSlug:"alert-dialog",children:(0,a.jsx)(j,{scope:r,cancelRef:p,children:(0,a.jsxs)(i.Content,{role:"alertdialog",...c,...d,ref:x,onOpenAutoFocus:(0,n.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(N,{children:o}),(0,a.jsx)(k,{contentRef:u})]})})})});y.displayName=f;var b="AlertDialogTitle",w=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(i.Title,{...l,...r,ref:t})});w.displayName=b;var C="AlertDialogDescription",S=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(i.Description,{...l,...r,ref:t})});S.displayName=C;var T=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(i.Close,{...l,...r,ref:t})});T.displayName="AlertDialogAction";var D="AlertDialogCancel",A=s.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,{cancelRef:n}=v(D,s),o=m(s),d=(0,l.useComposedRefs)(t,n);return(0,a.jsx)(i.Close,{...o,...r,ref:d})});A.displayName=D;var k=({contentRef:e})=>{let t=`\`${f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${f}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},R=e.i(647163),P=e.i(167881);function O({...e}){return(0,a.jsx)(x,{"data-slot":"alert-dialog",...e})}function I({...e}){return(0,a.jsx)(p,{"data-slot":"alert-dialog-trigger",...e})}function z({...e}){return(0,a.jsx)(h,{"data-slot":"alert-dialog-portal",...e})}function E({className:e,...t}){return(0,a.jsx)(g,{"data-slot":"alert-dialog-overlay",className:(0,R.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function F({className:e,...t}){return(0,a.jsxs)(z,{children:[(0,a.jsx)(E,{}),(0,a.jsx)(y,{"data-slot":"alert-dialog-content",className:(0,R.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function M({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,R.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function U({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,R.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function B({className:e,...t}){return(0,a.jsx)(w,{"data-slot":"alert-dialog-title",className:(0,R.cn)("text-lg font-semibold",e),...t})}function H({className:e,...t}){return(0,a.jsx)(S,{"data-slot":"alert-dialog-description",className:(0,R.cn)("text-muted-foreground text-sm",e),...t})}function V({className:e,...t}){return(0,a.jsx)(T,{className:(0,R.cn)((0,P.buttonVariants)(),e),...t})}function q({className:e,...t}){return(0,a.jsx)(A,{className:(0,R.cn)((0,P.buttonVariants)({variant:"outline"}),e),...t})}e.s(["AlertDialog",()=>O,"AlertDialogAction",()=>V,"AlertDialogCancel",()=>q,"AlertDialogContent",()=>F,"AlertDialogDescription",()=>H,"AlertDialogFooter",()=>U,"AlertDialogHeader",()=>M,"AlertDialogTitle",()=>B,"AlertDialogTrigger",()=>I],330009)},356909,e=>{"use strict";let t=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],356909)},263488,e=>{"use strict";let t=(0,e.i(475254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],263488)},555436,e=>{"use strict";let t=(0,e.i(475254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],555436)},687130,e=>{"use strict";let t=(0,e.i(475254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],687130)},898487,e=>{"use strict";e.s(["localeFlags",0,{fr:"ðŸ‡«ðŸ‡·",en:"ðŸ‡¬ðŸ‡§",it:"ðŸ‡®ðŸ‡¹",es:"ðŸ‡ªðŸ‡¸",ja:"ðŸ‡¯ðŸ‡µ",fi:"ðŸ‡«ðŸ‡®",zh:"ðŸ‡¨ðŸ‡³",hi:"ðŸ‡®ðŸ‡³",ar:"ðŸ‡¸ðŸ‡¦",bn:"ðŸ‡§ðŸ‡©",pt:"ðŸ‡§ðŸ‡·",ru:"ðŸ‡·ðŸ‡º",de:"ðŸ‡©ðŸ‡ª",ko:"ðŸ‡°ðŸ‡·",vi:"ðŸ‡»ðŸ‡³",tr:"ðŸ‡¹ðŸ‡·",pl:"ðŸ‡µðŸ‡±",th:"ðŸ‡¹ðŸ‡­",uk:"ðŸ‡ºðŸ‡¦",nl:"ðŸ‡³ðŸ‡±",id:"ðŸ‡®ðŸ‡©",sv:"ðŸ‡¸ðŸ‡ª",el:"ðŸ‡¬ðŸ‡·",cs:"ðŸ‡¨ðŸ‡¿",ro:"ðŸ‡·ðŸ‡´",hu:"ðŸ‡­ðŸ‡º"},"localeNames",0,{fr:"FranÃ§ais",en:"English",it:"Italiano",es:"EspaÃ±ol",ja:"æ—¥æœ¬èªž",fi:"Suomi",zh:"ä¸­æ–‡",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",bn:"à¦¬à¦¾à¦‚à¦²à¦¾",pt:"PortuguÃªs",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹",de:"Deutsch",ko:"í•œêµ­ì–´",vi:"Tiáº¿ng Viá»‡t",tr:"TÃ¼rkÃ§e",pl:"Polski",th:"à¹„à¸—à¸¢",uk:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",nl:"Nederlands",id:"Bahasa Indonesia",sv:"Svenska",el:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",cs:"ÄŒeÅ¡tina",ro:"RomÃ¢nÄƒ",hu:"Magyar"},"locales",0,["fr","en","it","es","ja","fi","zh","hi","ar","bn","pt","ru","de","ko","vi","tr","pl","th","uk","nl","id","sv","el","cs","ro","hu"]])},283086,e=>{"use strict";let t=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],283086)},429679,e=>{"use strict";var t=e.i(271645);function a(){let[e,a]=(0,t.useState)(!1),[s,r]=(0,t.useState)(null);return{generate:(0,t.useCallback)(async(e,t={},s)=>{a(!0),r(null);try{let{model:a="openai/gpt-oss-120b",stream:r=!0,stream_options:l={include_usage:!0,continuous_usage_stats:!0},top_p:i=1,max_tokens:n=1e4,temperature:o=1,presence_penalty:d=0,frequency_penalty:c=0}=t,u=await fetch("/api/baseten/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,model:a,stream:r,stream_options:l,top_p:i,max_tokens:n,temperature:o,presence_penalty:d,frequency_penalty:c})});if(!u.ok){let e=await u.json();throw Error(e.error||"Failed to generate content")}if(r){let e=u.body?.getReader(),t=new TextDecoder,a="";if(!e)throw Error("No response body");for(;;){let{done:r,value:l}=await e.read();if(r)break;for(let e of t.decode(l).split("\n"))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));t.content&&(a+=t.content,s?.(t.content))}catch(e){}}return a}{let e=await u.json();return e.choices[0]?.message?.content||""}}catch(e){throw r(e instanceof Error?e.message:"Unknown error"),e}finally{a(!1)}},[]),loading:e,error:s,reset:(0,t.useCallback)(()=>{r(null),a(!1)},[])}}e.s(["useBaseten",()=>a])},313680,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(145645),r=e.i(987756),l=e.i(246844),i=e.i(363178),n=e.i(970065),o=e.i(167881),d=e.i(994179),c=e.i(23750),u=e.i(630374),m=e.i(330009),x=e.i(62870),p=e.i(761911),h=e.i(107233),g=e.i(512475),f=e.i(466141),j=e.i(686311),v=e.i(555436),N=e.i(687130),y=e.i(178583),b=e.i(263488),w=e.i(582458),w=w,C=e.i(120682),S=e.i(618566),T=e.i(765220),D=e.i(811522),A=e.i(790601),k=e.i(471435);function R(){let{user:e}=(0,s.useUser)(),{activeOrganization:R,getAccentColor:P}=(0,r.useOrganization)(),{subscription:O}=(0,l.useSubscription)(),{theme:I}=(0,i.useTheme)(),z=(0,S.useRouter)(),[E,F]=(0,a.useState)([]),[M,U]=(0,a.useState)([]),[B,H]=(0,a.useState)([]),[V,q]=(0,a.useState)(!0),[$,L]=(0,a.useState)(""),[_,G]=(0,a.useState)("all"),[J,K]=(0,a.useState)("all"),[W,X]=(0,a.useState)(!1),[Y,Q]=(0,a.useState)("SPORT"),[Z,ee]=(0,a.useState)(!1),[et,ea]=(0,a.useState)(null),[es,er]=(0,a.useState)("SPORT"),[el,ei]=(0,a.useState)(null),[en,eo]=(0,a.useState)(!1),{toast:ed}=(0,C.useToast)(),ec="dark"===I,eu=P(ec),em=O&&("TRIAL"===O.status||"ACTIVE"===O.status);async function ex(){try{let[t,a]=await Promise.all([fetch("/api/organizations"),fetch(`/api/programs${R?`?organizationId=${R.id}`:""}`)]);if(!t.ok||!a.ok)throw Error("Failed to fetch");let s=await t.json(),r=await a.json();F(s),U(r);let l=new Map;s.forEach(t=>{t.members.forEach(a=>{let s=a.user;s.id===e?.id||"USER"!==s.role||l.has(s.id)||l.set(s.id,{id:s.id,name:s.name,email:s.email,programs:[],organization:t})})}),r.forEach(e=>{if(e.user){let t=l.get(e.user.id);t&&t.programs.push(e)}}),H(Array.from(l.values()))}catch(e){ed({title:"Erreur",description:"Impossible de charger les donnÃ©es",variant:"destructive"})}finally{q(!1)}}(0,a.useEffect)(()=>{localStorage.getItem("hasSeenExportAlert")||e?.role!=="PRO"||(eo(!0),localStorage.setItem("hasSeenExportAlert","true"))},[e]),(0,a.useEffect)(()=>{e?.role==="PRO"&&ex()},[e,R]);let ep=B.filter(e=>{let t=e.name?.toLowerCase().includes($.toLowerCase())||e.email.toLowerCase().includes($.toLowerCase()),a="all"===J||e.organization?.id===J;if("all"===_)return t&&a;let s=e.programs.some(e=>e.type===_);return t&&a&&s});async function eh(e){ei(e);try{let t=await fetch("/api/chats/direct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create chat")}let a=await t.json();z.push(`/dashboard/messaging?chatId=${a.id}`)}catch(e){ed({title:"Erreur",description:e instanceof Error?e.message:"Impossible de crÃ©er la conversation",variant:"destructive"})}finally{ei(null)}}if(e?.role!=="PRO")return(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"AccÃ¨s refusÃ©"}),(0,t.jsx)(n.CardDescription,{children:"Cette page est rÃ©servÃ©e aux professionnels."})]})})});let eg=B.length,ef=M.length,ej=M.filter(e=>"SPORT"===e.type).length,ev=M.filter(e=>"NUTRITION"===e.type).length;return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsx)(m.AlertDialog,{open:en,onOpenChange:eo,children:(0,t.jsxs)(m.AlertDialogContent,{children:[(0,t.jsxs)(m.AlertDialogHeader,{children:[(0,t.jsxs)(m.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.default,{className:"h-5 w-5 text-yellow-500"}),"Restrictions d'exportation"]}),(0,t.jsxs)(m.AlertDialogDescription,{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["En tant que professionnel, vous n'avez ",(0,t.jsx)("strong",{children:"pas le droit"})," d'exporter ou d'externaliser les contacts de vos clients en dehors de la plateforme Atletia."]}),(0,t.jsx)("p",{children:"Cette restriction est en place pour protÃ©ger la confidentialitÃ© et la sÃ©curitÃ© des donnÃ©es de vos clients, conformÃ©ment au RGPD et Ã  nos conditions d'utilisation."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Toute violation de cette rÃ¨gle peut entraÃ®ner la suspension de votre compte professionnel."})]})]}),(0,t.jsx)(m.AlertDialogFooter,{children:(0,t.jsx)(m.AlertDialogAction,{onClick:()=>eo(!1),children:"J'ai compris"})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(D.SidebarTrigger,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",style:{color:eu},children:"Gestion des Clients"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"GÃ©rez vos clients et leurs programmes personnalisÃ©s"})]})]}),em?(0,t.jsxs)(u.Dialog,{open:W,onOpenChange:X,children:[(0,t.jsx)(u.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{style:{backgroundColor:eu,color:ec?"#020617":"#f8fafc"},children:[(0,t.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"CrÃ©er un programme"]})}),(0,t.jsxs)(u.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"CrÃ©er un nouveau programme"}),(0,t.jsx)(u.DialogDescription,{children:"GÃ©nÃ©rez un programme sportif ou nutritionnel personnalisÃ© pour votre client"})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(x.Select,{value:Y,onValueChange:e=>Q(e),children:[(0,t.jsx)(x.SelectTrigger,{children:(0,t.jsx)(x.SelectValue,{})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"SPORT",children:"Programme Sportif"}),(0,t.jsx)(x.SelectItem,{value:"NUTRITION",children:"Programme Nutritionnel"})]})]})}),(0,t.jsx)(A.ProgramGeneratorForm,{open:W,onOpenChange:X,type:Y,onSuccess:()=>{X(!1),ex()}})]})]}):(0,t.jsxs)(o.Button,{disabled:!0,variant:"outline",onClick:()=>{z.push("/dashboard/subscription")},title:"Un abonnement actif est requis pour crÃ©er des programmes",children:[(0,t.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"CrÃ©er un programme"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Total Clients"}),(0,t.jsx)(p.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:eg}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ep.length," affichÃ©s"]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Total Programmes"}),(0,t.jsx)(y.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:ef}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tous types confondus"})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Programmes Sport"}),(0,t.jsx)(g.Dumbbell,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:ej}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ef>0?Math.round(ej/ef*100):0,"% du total"]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Programmes Nutrition"}),(0,t.jsx)(f.Apple,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:ev}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ef>0?Math.round(ev/ef*100):0,"% du total"]})]})]})]}),(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(v.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(c.Input,{placeholder:"Rechercher un client par nom ou email...",value:$,onChange:e=>L(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(x.Select,{value:_,onValueChange:e=>G(e),children:[(0,t.jsxs)(x.SelectTrigger,{className:"w-full md:w-[180px]",children:[(0,t.jsx)(N.Filter,{className:"mr-2 h-4 w-4"}),(0,t.jsx)(x.SelectValue,{placeholder:"Type de programme"})]}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"Tous les types"}),(0,t.jsx)(x.SelectItem,{value:"SPORT",children:"Sport uniquement"}),(0,t.jsx)(x.SelectItem,{value:"NUTRITION",children:"Nutrition uniquement"})]})]}),(0,t.jsxs)(x.Select,{value:J,onValueChange:K,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-full md:w-[200px]",children:(0,t.jsx)(x.SelectValue,{placeholder:"Organisation"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"Toutes les organisations"}),E.map(e=>(0,t.jsx)(x.SelectItem,{value:e.id,children:e.name},e.id))]})]})]})})}),V?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Chargement..."})}):0===ep.length?(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(p.Users,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Aucun client trouvÃ©"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:$||"all"!==J||"all"!==_?"Aucun client ne correspond Ã  vos critÃ¨res de recherche.":"Vos clients apparaÃ®tront ici une fois qu'ils rejoindront vos organisations."})]})})}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ep.map(e=>{let a=e.organization,s=a?.accentColor||eu;return(0,t.jsxs)(n.Card,{className:"hover:shadow-lg transition-shadow",style:{borderLeft:`4px solid ${s}`},children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:s},children:e.name?e.name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.CardTitle,{className:"text-lg",children:e.name||e.email.split("@")[0]}),(0,t.jsxs)(n.CardDescription,{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(b.Mail,{className:"h-3 w-3"}),e.email]})]})]}),a&&(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:a.name})]})}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.FileText,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Programmes:"}),(0,t.jsx)("span",{className:"font-semibold",children:e.programs.length})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(d.Badge,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(g.Dumbbell,{className:"h-3 w-3 mr-1"}),e.programs.filter(e=>"SPORT"===e.type).length]}),(0,t.jsxs)(d.Badge,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(f.Apple,{className:"h-3 w-3 mr-1"}),e.programs.filter(e=>"NUTRITION"===e.type).length]})]})]}),e.programs.length>0&&(0,t.jsx)(k.ScrollArea,{className:"h-32",children:(0,t.jsxs)("div",{className:"space-y-2",children:[e.programs.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50 hover:bg-muted transition-colors cursor-pointer",onClick:()=>z.push(`/dashboard/programs/${e.id}`),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:["SPORT"===e.type?(0,t.jsx)(g.Dumbbell,{className:"h-4 w-4 flex-shrink-0",style:{color:s}}):(0,t.jsx)(f.Apple,{className:"h-4 w-4 flex-shrink-0",style:{color:s}}),(0,t.jsx)("span",{className:"text-sm font-medium truncate",children:e.name})]}),(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs ml-2",children:e.type})]},e.id)),e.programs.length>3&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center pt-1",children:["+",e.programs.length-3," autre",e.programs.length-3>1?"s":""]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pt-2 border-t",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{ea(e.id),er("SPORT"),ee(!0)},className:"text-xs",children:[(0,t.jsx)(g.Dumbbell,{className:"mr-1 h-3 w-3"}),"Sport"]}),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{ea(e.id),er("NUTRITION"),ee(!0)},className:"text-xs",children:[(0,t.jsx)(f.Apple,{className:"mr-1 h-3 w-3"}),"Nutrition"]})]}),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>eh(e.id),disabled:el===e.id,className:"w-full",style:{borderColor:s,color:s},children:[(0,t.jsx)(j.MessageSquare,{className:"mr-2 h-4 w-4"}),el===e.id?"CrÃ©ation...":"Envoyer un message"]})]})]})]},e.id)})}),et&&(0,t.jsx)(T.UserProfileForm,{open:Z,onOpenChange:e=>{ee(e),e||ea(null)},userId:et,type:es,onSuccess:()=>{ex()}})]})}e.s(["default",()=>R],313680)}]);