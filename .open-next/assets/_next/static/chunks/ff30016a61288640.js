(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let a=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],107233)},10708,e=>{"use strict";var a=e.i(843476),t=e.i(271645);e.i(174080);var s=e.i(991918),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,s.createSlot)(`Primitive.${r}`),n=t.forwardRef((e,t)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?i:r,{...n,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),i=t.forwardRef((e,t)=>(0,a.jsx)(r.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=e.i(647163);function l({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],10708)},630374,e=>{"use strict";var a=e.i(843476),t=e.i(326999),s=e.i(995926),r=e.i(647163);function i({...e}){return(0,a.jsx)(t.Root,{"data-slot":"dialog",...e})}function n({...e}){return(0,a.jsx)(t.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,a.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,a.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function d({className:e,children:i,showCloseButton:n=!0,...d}){return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[i,n&&(0,a.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(s.XIcon,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function u({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...s}){return(0,a.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}function g({className:e,...s}){return(0,a.jsx)(t.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>i,"DialogContent",()=>d,"DialogDescription",()=>g,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>n])},688511,e=>{"use strict";let a=(0,e.i(475254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],688511)},286536,e=>{"use strict";let a=(0,e.i(475254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],286536)},898487,e=>{"use strict";e.s(["localeFlags",0,{fr:"ðŸ‡«ðŸ‡·",en:"ðŸ‡¬ðŸ‡§",it:"ðŸ‡®ðŸ‡¹",es:"ðŸ‡ªðŸ‡¸",ja:"ðŸ‡¯ðŸ‡µ",fi:"ðŸ‡«ðŸ‡®",zh:"ðŸ‡¨ðŸ‡³",hi:"ðŸ‡®ðŸ‡³",ar:"ðŸ‡¸ðŸ‡¦",bn:"ðŸ‡§ðŸ‡©",pt:"ðŸ‡§ðŸ‡·",ru:"ðŸ‡·ðŸ‡º",de:"ðŸ‡©ðŸ‡ª",ko:"ðŸ‡°ðŸ‡·",vi:"ðŸ‡»ðŸ‡³",tr:"ðŸ‡¹ðŸ‡·",pl:"ðŸ‡µðŸ‡±",th:"ðŸ‡¹ðŸ‡­",uk:"ðŸ‡ºðŸ‡¦",nl:"ðŸ‡³ðŸ‡±",id:"ðŸ‡®ðŸ‡©",sv:"ðŸ‡¸ðŸ‡ª",el:"ðŸ‡¬ðŸ‡·",cs:"ðŸ‡¨ðŸ‡¿",ro:"ðŸ‡·ðŸ‡´",hu:"ðŸ‡­ðŸ‡º"},"localeNames",0,{fr:"FranÃ§ais",en:"English",it:"Italiano",es:"EspaÃ±ol",ja:"æ—¥æœ¬èªž",fi:"Suomi",zh:"ä¸­æ–‡",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",bn:"à¦¬à¦¾à¦‚à¦²à¦¾",pt:"PortuguÃªs",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹",de:"Deutsch",ko:"í•œêµ­ì–´",vi:"Tiáº¿ng Viá»‡t",tr:"TÃ¼rkÃ§e",pl:"Polski",th:"à¹„à¸—à¸¢",uk:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",nl:"Nederlands",id:"Bahasa Indonesia",sv:"Svenska",el:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",cs:"ÄŒeÅ¡tina",ro:"RomÃ¢nÄƒ",hu:"Magyar"},"locales",0,["fr","en","it","es","ja","fi","zh","hi","ar","bn","pt","ru","de","ko","vi","tr","pl","th","uk","nl","id","sv","el","cs","ro","hu"]])},283086,e=>{"use strict";let a=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>a],283086)},429679,e=>{"use strict";var a=e.i(271645);function t(){let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null);return{generate:(0,a.useCallback)(async(e,a={},s)=>{t(!0),r(null);try{let{model:t="openai/gpt-oss-120b",stream:r=!0,stream_options:i={include_usage:!0,continuous_usage_stats:!0},top_p:n=1,max_tokens:l=1e4,temperature:o=1,presence_penalty:d=0,frequency_penalty:c=0}=a,u=await fetch("/api/baseten/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,model:t,stream:r,stream_options:i,top_p:n,max_tokens:l,temperature:o,presence_penalty:d,frequency_penalty:c})});if(!u.ok){let e=await u.json();throw Error(e.error||"Failed to generate content")}if(r){let e=u.body?.getReader(),a=new TextDecoder,t="";if(!e)throw Error("No response body");for(;;){let{done:r,value:i}=await e.read();if(r)break;for(let e of a.decode(i).split("\n"))if(e.startsWith("data: "))try{let a=JSON.parse(e.slice(6));a.content&&(t+=a.content,s?.(a.content))}catch(e){}}return t}{let e=await u.json();return e.choices[0]?.message?.content||""}}catch(e){throw r(e instanceof Error?e.message:"Unknown error"),e}finally{t(!1)}},[]),loading:e,error:s,reset:(0,a.useCallback)(()=>{r(null),t(!1)},[])}}e.s(["useBaseten",()=>t])},106920,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(145645),r=e.i(987756),i=e.i(246844),n=e.i(363178),l=e.i(970065),o=e.i(167881),d=e.i(994179),c=e.i(512475),u=e.i(107233),m=e.i(686311),g=e.i(286536),h=e.i(688511),p=e.i(607486),f=e.i(618566),x=e.i(120682),j=e.i(790601),v=e.i(811522),y=e.i(62870),b=e.i(531278);function N(){let{user:e}=(0,s.useUser)(),{activeOrganization:N,setOrganization:k,organizations:w,getAccentColor:C}=(0,r.useOrganization)(),{subscription:S}=(0,i.useSubscription)(),{theme:z}=(0,n.useTheme)(),T=(0,f.useRouter)(),{toast:E}=(0,x.useToast)(),[B,P]=(0,t.useState)([]),[D,R]=(0,t.useState)(!0),[O,M]=(0,t.useState)(null),[I,F]=(0,t.useState)(!1),[$,A]=(0,t.useState)("all"),[U,_]=(0,t.useState)(!1);(0,t.useEffect)(()=>{_(!0)},[]);let V=U?C("dark"===z):void 0,q=S&&("TRIAL"===S.status||"ACTIVE"===S.status);async function H(){if(e){R(!0);try{let e="/api/programs?type=SPORT";$&&"all"!==$&&(e+=`&organizationId=${$}`);let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch");let t=(await a.json()).filter(e=>"SPORT"===e.type);P(t)}catch(e){console.error("Error fetching programs:",e),E({title:"Erreur",description:"Impossible de charger les programmes",variant:"destructive"})}finally{R(!1)}}}async function L(e){M(e);try{let a=await fetch("/api/chats/direct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create chat")}let t=await a.json();T.push(`/dashboard/messaging?chatId=${t.id}`)}catch(e){E({title:"Erreur",description:e instanceof Error?e.message:"Impossible de crÃ©er la conversation",variant:"destructive"})}finally{M(null)}}return(0,t.useEffect)(()=>{N?A(N.id):A("all")},[N]),(0,t.useEffect)(()=>{e&&H()},[e,$]),(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.SidebarTrigger,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",style:V?{color:V}:void 0,children:"Mes EntraÃ®nements"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"GÃ©rez vos programmes d'entraÃ®nement"})]})]}),e?.role==="PRO"&&(q?(0,a.jsxs)(o.Button,{onClick:()=>F(!0),children:[(0,a.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Nouveau programme"]}):(0,a.jsxs)(o.Button,{disabled:!0,variant:"outline",onClick:()=>{T.push("/dashboard/subscription")},title:"Un abonnement actif est requis pour crÃ©er des programmes",children:[(0,a.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Nouveau programme"]}))]}),w.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)(y.Select,{value:$,onValueChange:function(e){if(A(e),"all"===e)k(null);else{let a=w.find(a=>a.id===e);a&&k(a)}},children:[(0,a.jsx)(y.SelectTrigger,{className:"w-[250px]",children:(0,a.jsx)(y.SelectValue,{placeholder:"Filtrer par organisation"})}),(0,a.jsxs)(y.SelectContent,{children:[(0,a.jsx)(y.SelectItem,{value:"all",children:"Tous mes programmes"}),w.map(e=>(0,a.jsx)(y.SelectItem,{value:e.id,children:e.name},e.id))]})]}),"all"!==$&&(0,a.jsx)(d.Badge,{variant:"outline",className:"ml-2",children:w.find(e=>e.id===$)?.name})]})]}),D?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(b.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[B.map(t=>{let s;return s=t.organization?.accentColor?t.organization.accentColor:t.organization?"dark"===z?"#f8fafc":"#020617":V||("dark"===z?"#f8fafc":"#020617"),(0,a.jsxs)(l.Card,{style:{borderColor:s,borderWidth:"2px"},children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Dumbbell,{className:"h-5 w-5"}),(0,a.jsx)(l.CardTitle,{children:t.name})]}),(0,a.jsxs)(l.CardDescription,{children:[t.description||"Programme d'entraÃ®nement",t.organization&&(0,a.jsxs)("span",{className:"ml-2 text-xs",children:["â€¢ ",t.organization.name]})]})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Badge,{variant:"outline",children:"Sportif"}),t.organization&&(0,a.jsx)(d.Badge,{variant:"secondary",className:"text-xs",style:t.organization.accentColor?{backgroundColor:`${t.organization.accentColor}15`,color:t.organization.accentColor}:void 0,children:t.organization.name})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.Button,{variant:"default",size:"sm",className:"flex-1",onClick:()=>T.push(`/dashboard/programs/${t.id}`),children:[(0,a.jsx)(g.Eye,{className:"mr-2 h-4 w-4"}),"Voir"]}),e?.role==="PRO"&&e.id===t.createdBy.id&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>T.push(`/dashboard/programs/${t.id}/edit`),children:(0,a.jsx)(h.Edit,{className:"h-4 w-4"})})}),e?.role==="USER"&&t.createdBy&&(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>L(t.createdBy.id),disabled:O===t.createdBy.id,children:(0,a.jsx)(m.MessageSquare,{className:"h-4 w-4"})})]}),e?.role==="USER"&&t.createdBy&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Coach: ",t.createdBy.name||t.createdBy.email]})]})})]},t.id)}),0===B.length&&!D&&(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Aucun programme"}),(0,a.jsx)(l.CardDescription,{children:"all"===$?"Aucun programme d'entraÃ®nement disponible pour le moment":`Aucun programme d'entra\xeenement pour l'organisation "${w.find(e=>e.id===$)?.name||"sÃ©lectionnÃ©e"}"`})]})})})]}),(0,a.jsx)(j.ProgramGeneratorForm,{open:I,onOpenChange:F,type:"SPORT",onSuccess:()=>{H()}})]})}e.s(["default",()=>N])}]);